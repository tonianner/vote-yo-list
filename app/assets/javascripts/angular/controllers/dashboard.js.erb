app.controller('DashBoardCtrl', ['$scope', '$http', '$stateParams',
  function($scope, $http, $stateParams){
    console.log('DashBoardCtrl')

    $scope.newEvent = {};
    // $scope.oneEvent = {};
    $scope.addEvent = addEvent;
    // $scope.showEvent = showEvent;
    $scope.eventList = [];

    getEvents();
    function getEvents(){
      $http
        .get('http://localhost:3000/api/events')
        .success(function(data){
          $scope.eventList = data
          // console.log(data)
        })
    }

    function addEvent(){
      $http
        .post('http://localhost:3000/api/events', $scope.newEvent)
        .success(function(data){
          getEvents();
        })

      $scope.newEvent = {};
    }

    // function showEvent(id){
    //   $scope.title = $stateParams.title;

    //   $http
    //     .get('http://localhost:3000/api/events/:id')
    //     .success(function(data) {
    //       $scope.oneEvent = data;
    //       console.log(data)
    //     });
    // }

}])
