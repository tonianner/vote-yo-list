app.controller('SignUpCtrl', [
  '$scope', '$auth', '$location',
    function($scope, $auth, $location){
      console.log('SignUpCtrl')

      $scope.signup = function () {
        $auth.submitRegistration($scope.registrationForm).
         then(function(resp) {
           $location.path('/events');
         }).
         catch(function(resp) {
          // $scope.errorMessage = resp.data.errors.full_messages
         });
                 // alert
        $scope.$on('auth:registration-email-error', function(ev, reason) {
          $scope.errorMessage = reason.errors.full_messages
          console.log (reason.errors.full_messages)
        })
      }
    }
])
